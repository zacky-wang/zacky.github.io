---
title: "Redis和数据库保证数据一致性"
date: 2023-02-09T21:28:38+08:00
lastmod: 2023-02-09T21:28:38+08:00
draft: false
tags: [""]
categories : [""]
author: "Jaswine"

weight:
mathjax: true
autoCollapseToc: true
---

`Redis`在系统开发中一般作为缓存来使用，但是在使用中，缓存的数据会存在和数据库中不一致的问题。

无论是先更新缓存还是先更新数据库，因为这是量布操作，只要有一步失败，那么就会存在数据库和缓存中的数据不一致。

为了解决这个问题，有以下的方法：

## 方法1:先删除缓存，再更新数据库，再更新缓存

首先保证了缓存中没有老数据，就算后期数据库更新失败或者缓存更新失败，那么也不影响数据的一致性。但是在极端的情况下会有大量的请求落到数据库上。

## 方法2:最终一致性

使用消息队列来实现最终一致性，先删除缓存，再更新数据库，然后发送可靠消息来保证数据写到缓存

## 方法3:强一致性

shi y
